webpackJsonp([1],[/*!**************************************!*\
  !*** ./src/pages/consumer-lookup.js ***!
  \**************************************/
function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();window.app=window.app||{},console.warn("!!consumer-lookup!!");var o=function(){function e(){n(this,e),this.addEvent=app.addEvent,this.ui={table:document.getElementById("t_id"),createForm:document.getElementById("create_form"),createFormSubmit:document.getElementById("cr_create"),createRow:document.getElementById("create_row"),createFormWrapper:document.getElementById("create_form_wrapper"),createFormCloser:document.getElementById("cls_cr"),editForm:document.getElementById("edit_form"),editFormSubmit:document.getElementById("edit_form"),editRow:document.querySelectorAll("#t_id .edit_row"),editFormWrapper:document.getElementById("edit_form_wrapper"),editFormCloser:document.getElementById("cls_e"),deleteForm:document.getElementById("delete_form"),deleteFormSubmit:document.getElementById("delete_form"),deleteRow:document.querySelectorAll("#t_id .delete_row"),deleteFormWrapper:document.getElementById("delete_form_wrapper"),deleteFormCloser:document.getElementById("cls_d"),getCsv:document.getElementById("get_csv"),pagination:document.querySelectorAll(".pagination")[0]},this.addEvent(this.ui.createRow,"click",this.onCreateRowClick,this),this.addEvent(this.ui.createFormCloser,"click",this.onCloseCreateRowClick,this),this.addEvent(this.ui.editRow,"click",this.onEditRowClick,this),this.addEvent(this.ui.editFormCloser,"click",this.onCloseEditFormClick,this),this.addEvent(this.ui.deleteRow,"click",this.onDeleteRowClick,this),this.addEvent(this.ui.deleteFormCloser,"click",this.onCloseDeleteRowClick,this),this.addEvent(this.ui.getCsv,"click",this.onGetCsvClick,this),this.addEvent(this.ui.table.tBodies[0].rows,"click",this.onRowClick,this),this.initPaginationForTable(this.ui.table,this.ui.pagination),this.showEl(this.ui.table)}return r(e,[{key:"onCreateRowClick",value:function(e){document.getElementById("cr_Producer").value="",document.getElementById("cr_ProducerFilename").value="",document.getElementById("cr_ProducerLanguage").value="",document.getElementById("cr_ProducerEmail").value="",document.getElementById("cr_Consumer").value="",document.getElementById("cr_ConsumerLanguage").value="",document.getElementById("cr_ConsumerEmail").value="",document.getElementById("cr_ConsumerStatus").value="",document.getElementById("cr_NotifyDelivery").value="",document.getElementById("cr_KeepMappingWhenErr").value="",document.getElementById("cr_Actions").value="",document.getElementById("cr_NewFilename").value="",document.getElementById("cr_RemotePath").value="",document.getElementById("cr_PostAction").value="",document.getElementById("cr_PreAction").value="",document.getElementById("cr_SourceEncoding").value="",document.getElementById("cr_DestEncoding").value="",document.getElementById("cr_HEX_Repl_Char").value="",document.getElementById("cr_HEX_Repl_With").value="",document.getElementById("cr_NewMailboxName").value="",document.getElementById("cr_CONSUMEREXTRACTABLE").value="",document.getElementById("cr_CONSUMEREXTRACTABLECOUNT").value="",document.getElementById("cr_CONSUMEREXTRACTABLEDURATION").value="",this.hideEl(this.ui.editFormWrapper),this.hideEl(this.ui.deleteFormWrapper),this.showEl(this.ui.createFormWrapper),document.getElementById("cr_create").focus()}},{key:"onCloseCreateRowClick",value:function(e){this.hideEl(this.ui.createFormWrapper)}},{key:"onEditRowClick",value:function(e){var t=e.currentTarget.parentNode;document.getElementById("e_Producer").value=t.querySelector(".row_Producer").innerHTML,document.getElementById("e_ProducerFilename").value=t.querySelector(".row_ProducerFilename").innerHTML,document.getElementById("e_ProducerLanguage").value=t.querySelector(".row_ProducerLanguage").innerHTML,document.getElementById("e_ProducerEmail").value=t.querySelector(".row_ProducerEmail").innerHTML,document.getElementById("e_Consumer").value=t.querySelector(".row_Consumer").innerHTML,document.getElementById("e_ConsumerLanguage").value=t.querySelector(".row_ConsumerLanguage").innerHTML,document.getElementById("e_ConsumerEmail").value=t.querySelector(".row_ConsumerEmail").innerHTML,document.getElementById("e_ConsumerStatus").value=t.querySelector(".row_ConsumerStatus").innerHTML,document.getElementById("e_NotifyDelivery").value=t.querySelector(".row_NotifyDelivery").innerHTML,document.getElementById("e_KeepMappingWhenErr").value=t.querySelector(".row_KeepMappingWhenErr").innerHTML,document.getElementById("e_Actions").value=t.querySelector(".row_Actions").innerHTML,document.getElementById("e_NewFilename").value=t.querySelector(".row_NewFilename").innerHTML,document.getElementById("e_RemotePath").value=t.querySelector(".row_RemotePath").innerHTML,document.getElementById("e_PostAction").value=t.querySelector(".row_PostAction").innerHTML,document.getElementById("e_PreAction").value=t.querySelector(".row_PreAction").innerHTML,document.getElementById("e_SourceEncoding").value=t.querySelector(".row_SourceEncoding").innerHTML,document.getElementById("e_DestEncoding").value=t.querySelector(".row_DestEncoding").innerHTML,document.getElementById("e_HEX_Repl_Char").value=t.querySelector(".row_HEX_Repl_Char").innerHTML,document.getElementById("e_HEX_Repl_With").value=t.querySelector(".row_HEX_Repl_With").innerHTML,document.getElementById("e_NewMailboxName").value=t.querySelector(".row_NewMailboxName").innerHTML,document.getElementById("e_CONSUMEREXTRACTABLE").value=t.querySelector(".row_CONSUMEREXTRACTABLE").innerHTML,document.getElementById("e_CONSUMEREXTRACTABLECOUNT").value=t.querySelector(".row_CONSUMEREXTRACTABLECOUNT").innerHTML,document.getElementById("e_CONSUMEREXTRACTABLEDURATION").value=t.querySelector(".row_CONSUMEREXTRACTABLEDURATION").innerHTML,document.getElementById("e_OBJECT_ID").value=t.querySelector(".row_OBJECT_ID").innerHTML,this.hideEl(this.ui.createFormWrapper),this.hideEl(this.ui.deleteFormWrapper),this.showEl(this.ui.editFormWrapper),document.getElementById("e_Producer").focus()}},{key:"onCloseEditFormClick",value:function(e){this.hideEl(this.ui.editFormWrapper)}},{key:"onDeleteRowClick",value:function(e){var t=e.currentTarget.parentNode;document.getElementById("d_Producer").value=t.querySelector(".row_Producer").innerHTML,document.getElementById("d_ProducerFilename").value=t.querySelector(".row_ProducerFilename").innerHTML,document.getElementById("d_ProducerLanguage").value=t.querySelector(".row_ProducerLanguage").innerHTML,document.getElementById("d_ProducerEmail").value=t.querySelector(".row_ProducerEmail").innerHTML,document.getElementById("d_Consumer").value=t.querySelector(".row_Consumer").innerHTML,document.getElementById("d_ConsumerLanguage").value=t.querySelector(".row_ConsumerLanguage").innerHTML,document.getElementById("d_ConsumerEmail").value=t.querySelector(".row_ConsumerEmail").innerHTML,document.getElementById("d_ConsumerStatus").value=t.querySelector(".row_ConsumerStatus").innerHTML,document.getElementById("d_NotifyDelivery").value=t.querySelector(".row_NotifyDelivery").innerHTML,document.getElementById("d_KeepMappingWhenErr").value=t.querySelector(".row_KeepMappingWhenErr").innerHTML,document.getElementById("d_Actions").value=t.querySelector(".row_Actions").innerHTML,document.getElementById("d_NewFilename").value=t.querySelector(".row_NewFilename").innerHTML,document.getElementById("d_RemotePath").value=t.querySelector(".row_RemotePath").innerHTML,document.getElementById("d_PostAction").value=t.querySelector(".row_PostAction").innerHTML,document.getElementById("d_PreAction").value=t.querySelector(".row_PreAction").innerHTML,document.getElementById("d_SourceEncoding").value=t.querySelector(".row_SourceEncoding").innerHTML,document.getElementById("d_DestEncoding").value=t.querySelector(".row_DestEncoding").innerHTML,document.getElementById("d_HEX_Repl_Char").value=t.querySelector(".row_HEX_Repl_Char").innerHTML,document.getElementById("d_HEX_Repl_With").value=t.querySelector(".row_HEX_Repl_With").innerHTML,document.getElementById("d_NewMailboxName").value=t.querySelector(".row_NewMailboxName").innerHTML,document.getElementById("d_CONSUMEREXTRACTABLE").value=t.querySelector(".row_CONSUMEREXTRACTABLE").innerHTML,document.getElementById("d_CONSUMEREXTRACTABLECOUNT").value=t.querySelector(".row_CONSUMEREXTRACTABLECOUNT").innerHTML,document.getElementById("d_CONSUMEREXTRACTABLEDURATION").value=t.querySelector(".row_CONSUMEREXTRACTABLEDURATION").innerHTML,document.getElementById("d_OBJECT_ID").value=t.querySelector(".row_OBJECT_ID").innerHTML,this.hideEl(this.ui.createFormWrapper),this.hideEl(this.ui.editFormWrapper),this.showEl(this.ui.deleteFormWrapper),document.getElementById("d_submit").focus()}},{key:"onCloseDeleteRowClick",value:function(e){this.hideEl(this.ui.deleteFormWrapper)}},{key:"onRowClick",value:function(e){var t=this,n=e.currentTarget;_.each(this.ui.table.tBodies[0].rows,function(e,n){t.removeClass(e,"highlighted")}),this.addClass(n,"highlighted")}},{key:"onGetCsvClick",value:function(e){this.saveToCSV(this.parseTable())}},{key:"parseTable",value:function(){var e=this.ui.table,t=2;return _.chain(e.rows).reduce(function(e,n){var r=n.children,o=_.chain(r).slice(t).map(function(e){return e.innerText}).value();return e.push(o),e},[]).value()}},{key:"saveToCSV",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"NDP.csv":arguments[1],n=_.reduce(e,function(t,n,r){var o=n.join(",");return t+=r<e.length?o+"\n":o},"data:text/csv;charset=utf-8,"),r=encodeURI(n),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",t),document.body.appendChild(o),o.click(),setTimeout(function(){o.remove()},0)}},{key:"initPaginationForTable",value:function(e,t){var n=this;if(!e||!t)return console.warn("initPaginationForTable must have 2 arguments");var r={currentPage:0,showBy:10,totalItems:e.rows.length,totalPages:Math.floor(e.rows.length/10)},o=function(){var o=arguments.length<=0||void 0===arguments[0]?0:arguments[0],l=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=arguments.length<=2||void 0===arguments[2]||arguments[2];r.currentPage=o;var i=t.querySelectorAll("[data-index-pagination]"),a=l.currentTarget||i[o];_.each(i,function(e,t,r){e==a?n.addClass(e,"active"):n.removeClass(e,"active")}),_.each(e.tBodies[0].rows,function(e,t,o){var l=r.currentPage*r.showBy,u=l+r.showBy;l<=t&&t<=u?n.removeClass(e,"hide"):n.addClass(e,"hide")}),u&&history.pushState({query:{page:+r.currentPage}},"","?page="+ +r.currentPage)},l=function(e){e.preventDefault(),e.stopPropagation()},u=function(e,t){l(t),o.apply(n,[e,t])},i=function(e,t){l(t),o.apply(n,[e,t])},a=function(e,t){l(t),o.apply(n,[e,t])};_.each(new Array(r.totalPages),function(e,r,o){var l=function(e){return'<a href="#" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> </a>'},c=function(e){return'<a href="#" aria-label="Next"> <span aria-hidden="true">&raquo;</span> </a>'},d=function(e){return'<a href="#">'+(e+1)+"</a>"};if(0===r){var m=document.createElement("li");m.innerHTML=l(r),n.addEvent(m,"click",u.bind(n,r)),t.appendChild(m)}var s=document.createElement("li");if(s.innerHTML=d(r),s.setAttribute("data-index-pagination",r),n.addEvent(s,"click",a.bind(n,r)),t.appendChild(s),r===o.length-1){var E=document.createElement("li");E.innerHTML=c(r),n.addEvent(E,"click",i.bind(n,r)),t.appendChild(E)}});var c=location.search.match(/page=([\d])/),d=(c?c[1]:null)||r.currentPage;o(d,{},!1)}},{key:"hideEl",value:function(e){e.style.display="none"}},{key:"showEl",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"block":arguments[1];e.style.display=t}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}}]),e}();app.consumerView=new o}]);
//# sourceMappingURL=consumer-lookup.bundle.js.map