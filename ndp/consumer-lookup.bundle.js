webpackJsonp([1],{0:/*!**************************************!*\
  !*** ./src/pages/consumer-lookup.js ***!
  \**************************************/
function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(/*! file-saver */118);window.app=window.app||{},console.warn("!!consumer-lookup!!");var i=function(){function e(){var t=this;r(this,e),this.addEvent=app.addEvent;var n=document.getElementById("t_id");this.ui={table:n,tableBody:n.tBodies[0],tableRows:n.querySelectorAll("tr"),tableCells:n.querySelectorAll("td"),createForm:document.getElementById("create_form"),createFormSubmit:document.getElementById("cr_create"),createRow:document.getElementById("create_row"),createFormWrapper:document.getElementById("create_form_wrapper"),createFormCloser:document.getElementById("cls_cr"),editForm:document.getElementById("edit_form"),editFormSubmit:document.getElementById("edit_form"),editRow:document.querySelectorAll("#t_id .edit_row"),editFormWrapper:document.getElementById("edit_form_wrapper"),editFormCloser:document.getElementById("cls_e"),deleteForm:document.getElementById("delete_form"),deleteFormSubmit:document.getElementById("delete_form"),deleteRow:document.querySelectorAll("#t_id .delete_row"),deleteFormWrapper:document.getElementById("delete_form_wrapper"),deleteFormCloser:document.getElementById("cls_d"),getCsv:document.getElementById("get_csv"),pagination:document.querySelectorAll(".pagination")[0]},this.addEvent(this.ui.createRow,"click",this.onCreateRowClick,this),this.addEvent(this.ui.createFormCloser,"click",this.onCloseCreateRowClick,this),this.addEvent(this.ui.editRow,"click",this.onEditRowClick,this),this.addEvent(this.ui.editFormCloser,"click",this.onCloseEditFormClick,this),this.addEvent(this.ui.deleteRow,"click",this.onDeleteRowClick,this),this.addEvent(this.ui.deleteFormCloser,"click",this.onCloseDeleteRowClick,this),this.addEvent(this.ui.getCsv,"click",this.onGetCsvClick,this);var o=_.filter(this.ui.tableRows,function(e,t){return t>0});this.addEvent(o,"click",this.onRowClick,this),_.each(o,function(e,n){var r=_.filter(e.children,function(e,t){return!0});t.addEvent(r,"click",t.onCellClick,t)}),this.initPaginationForTable(this.ui.table,this.ui.pagination),this.showEl(this.ui.table)}return o(e,[{key:"onCreateRowClick",value:function(e){document.getElementById("cr_Producer").value="",document.getElementById("cr_ProducerFilename").value="",document.getElementById("cr_ProducerLanguage").value="",document.getElementById("cr_ProducerEmail").value="",document.getElementById("cr_Consumer").value="",document.getElementById("cr_ConsumerLanguage").value="",document.getElementById("cr_ConsumerEmail").value="",document.getElementById("cr_ConsumerStatus").value="",document.getElementById("cr_NotifyDelivery").value="",document.getElementById("cr_KeepMappingWhenErr").value="",document.getElementById("cr_Actions").value="",document.getElementById("cr_NewFilename").value="",document.getElementById("cr_RemotePath").value="",document.getElementById("cr_PostAction").value="",document.getElementById("cr_PreAction").value="",document.getElementById("cr_SourceEncoding").value="",document.getElementById("cr_DestEncoding").value="",document.getElementById("cr_HEX_Repl_Char").value="",document.getElementById("cr_HEX_Repl_With").value="",document.getElementById("cr_NewMailboxName").value="",document.getElementById("cr_CONSUMEREXTRACTABLE").value="",document.getElementById("cr_CONSUMEREXTRACTABLECOUNT").value="",document.getElementById("cr_CONSUMEREXTRACTABLEDURATION").value="",this.hideEl(this.ui.editFormWrapper),this.hideEl(this.ui.deleteFormWrapper),this.showEl(this.ui.createFormWrapper),document.getElementById("cr_Producer").focus()}},{key:"onCloseCreateRowClick",value:function(e){this.hideEl(this.ui.createFormWrapper)}},{key:"onEditRowClick",value:function(e){var t=e.currentTarget.parentNode;document.getElementById("e_Producer").value=t.querySelector(".row_Producer").innerHTML,document.getElementById("e_ProducerFilename").value=t.querySelector(".row_ProducerFilename").innerHTML,document.getElementById("e_ProducerLanguage").value=t.querySelector(".row_ProducerLanguage").innerHTML,document.getElementById("e_ProducerEmail").value=t.querySelector(".row_ProducerEmail").innerHTML,document.getElementById("e_Consumer").value=t.querySelector(".row_Consumer").innerHTML,document.getElementById("e_ConsumerLanguage").value=t.querySelector(".row_ConsumerLanguage").innerHTML,document.getElementById("e_ConsumerEmail").value=t.querySelector(".row_ConsumerEmail").innerHTML,document.getElementById("e_ConsumerStatus").value=t.querySelector(".row_ConsumerStatus").innerHTML,document.getElementById("e_NotifyDelivery").value=t.querySelector(".row_NotifyDelivery").innerHTML,document.getElementById("e_KeepMappingWhenErr").value=t.querySelector(".row_KeepMappingWhenErr").innerHTML,document.getElementById("e_Actions").value=t.querySelector(".row_Actions").innerHTML,document.getElementById("e_NewFilename").value=t.querySelector(".row_NewFilename").innerHTML,document.getElementById("e_RemotePath").value=t.querySelector(".row_RemotePath").innerHTML,document.getElementById("e_PostAction").value=t.querySelector(".row_PostAction").innerHTML,document.getElementById("e_PreAction").value=t.querySelector(".row_PreAction").innerHTML,document.getElementById("e_SourceEncoding").value=t.querySelector(".row_SourceEncoding").innerHTML,document.getElementById("e_DestEncoding").value=t.querySelector(".row_DestEncoding").innerHTML,document.getElementById("e_HEX_Repl_Char").value=t.querySelector(".row_HEX_Repl_Char").innerHTML,document.getElementById("e_HEX_Repl_With").value=t.querySelector(".row_HEX_Repl_With").innerHTML,document.getElementById("e_NewMailboxName").value=t.querySelector(".row_NewMailboxName").innerHTML,document.getElementById("e_CONSUMEREXTRACTABLE").value=t.querySelector(".row_CONSUMEREXTRACTABLE").innerHTML,document.getElementById("e_CONSUMEREXTRACTABLECOUNT").value=t.querySelector(".row_CONSUMEREXTRACTABLECOUNT").innerHTML,document.getElementById("e_CONSUMEREXTRACTABLEDURATION").value=t.querySelector(".row_CONSUMEREXTRACTABLEDURATION").innerHTML,document.getElementById("e_OBJECT_ID").value=t.querySelector(".row_OBJECT_ID").innerHTML,this.hideEl(this.ui.createFormWrapper),this.hideEl(this.ui.deleteFormWrapper),this.showEl(this.ui.editFormWrapper),document.getElementById("e_Producer").focus()}},{key:"onCloseEditFormClick",value:function(e){this.hideEl(this.ui.editFormWrapper)}},{key:"onDeleteRowClick",value:function(e){var t=e.currentTarget.parentNode;document.getElementById("d_Producer").value=t.querySelector(".row_Producer").innerHTML,document.getElementById("d_ProducerFilename").value=t.querySelector(".row_ProducerFilename").innerHTML,document.getElementById("d_ProducerLanguage").value=t.querySelector(".row_ProducerLanguage").innerHTML,document.getElementById("d_ProducerEmail").value=t.querySelector(".row_ProducerEmail").innerHTML,document.getElementById("d_Consumer").value=t.querySelector(".row_Consumer").innerHTML,document.getElementById("d_ConsumerLanguage").value=t.querySelector(".row_ConsumerLanguage").innerHTML,document.getElementById("d_ConsumerEmail").value=t.querySelector(".row_ConsumerEmail").innerHTML,document.getElementById("d_ConsumerStatus").value=t.querySelector(".row_ConsumerStatus").innerHTML,document.getElementById("d_NotifyDelivery").value=t.querySelector(".row_NotifyDelivery").innerHTML,document.getElementById("d_KeepMappingWhenErr").value=t.querySelector(".row_KeepMappingWhenErr").innerHTML,document.getElementById("d_Actions").value=t.querySelector(".row_Actions").innerHTML,document.getElementById("d_NewFilename").value=t.querySelector(".row_NewFilename").innerHTML,document.getElementById("d_RemotePath").value=t.querySelector(".row_RemotePath").innerHTML,document.getElementById("d_PostAction").value=t.querySelector(".row_PostAction").innerHTML,document.getElementById("d_PreAction").value=t.querySelector(".row_PreAction").innerHTML,document.getElementById("d_SourceEncoding").value=t.querySelector(".row_SourceEncoding").innerHTML,document.getElementById("d_DestEncoding").value=t.querySelector(".row_DestEncoding").innerHTML,document.getElementById("d_HEX_Repl_Char").value=t.querySelector(".row_HEX_Repl_Char").innerHTML,document.getElementById("d_HEX_Repl_With").value=t.querySelector(".row_HEX_Repl_With").innerHTML,document.getElementById("d_NewMailboxName").value=t.querySelector(".row_NewMailboxName").innerHTML,document.getElementById("d_CONSUMEREXTRACTABLE").value=t.querySelector(".row_CONSUMEREXTRACTABLE").innerHTML,document.getElementById("d_CONSUMEREXTRACTABLECOUNT").value=t.querySelector(".row_CONSUMEREXTRACTABLECOUNT").innerHTML,document.getElementById("d_CONSUMEREXTRACTABLEDURATION").value=t.querySelector(".row_CONSUMEREXTRACTABLEDURATION").innerHTML,document.getElementById("d_OBJECT_ID").value=t.querySelector(".row_OBJECT_ID").innerHTML,this.hideEl(this.ui.createFormWrapper),this.hideEl(this.ui.editFormWrapper),this.showEl(this.ui.deleteFormWrapper),document.getElementById("d_Producer").focus()}},{key:"onCloseDeleteRowClick",value:function(e){this.hideEl(this.ui.deleteFormWrapper)}},{key:"onRowClick",value:function(e){var t=this,n=e.currentTarget,r="row-highlighted";_.each(this.ui.tableRows,function(e,n){t.removeClass(e,r)}),this.addClass(n,r)}},{key:"onCellClick",value:function(e){var t=this,n=e.currentTarget,r="cell-highlighted";_.each(this.ui.tableCells,function(e){t.removeClass(e,r)}),this.addClass(n,r)}},{key:"onGetCsvClick",value:function(e){this.saveToCSV(this.parseTable())}},{key:"parseTable",value:function(){var e=this.ui.table,t=2;return _.chain(e.rows).reduce(function(e,n){var r=n.children,o=_.chain(r).slice(t).map(function(e){return e.innerText}).value();return e.push(o),e},[]).value()}},{key:"saveToCSV",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"NDP.csv":arguments[1],n="",r=_.reduce(e,function(t,n,r){var o=n.join(",");return t+=r>e.length?o:o+"\n"},n),o=new Blob([r],{type:"text/csv;charset=utf-8"});(0,l.saveAs)(o,t)}},{key:"initPaginationForTable",value:function(e,t){var n=this;if(!e||!t)return console.warn("initPaginationForTable must have 2 arguments");var r={currentPage:0,showBy:10,totalItems:e.rows.length,totalPages:Math.floor(e.rows.length/10)},o=function(){var o=arguments.length<=0||void 0===arguments[0]?0:arguments[0],l=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]||arguments[2];r.currentPage=o;var a=t.querySelectorAll("[data-index-pagination]"),u=l.currentTarget||a[o];_.each(a,function(e,t,r){e==u?n.addClass(e,"active"):n.removeClass(e,"active")}),_.each(e.tBodies[0].rows,function(e,t,o){var l=r.currentPage*r.showBy,i=l+r.showBy;l<=t&&t<i?n.removeClass(e,"hide"):n.addClass(e,"hide")}),i&&history.pushState({query:{page:+r.currentPage}},"","?page="+ +r.currentPage)},l=function(e){e.preventDefault(),e.stopPropagation()},i=function(e,t){l(t),o.apply(n,[e,t])},a=function(e,t){l(t),o.apply(n,[e,t])},u=function(e,t){l(t),o.apply(n,[e,t])};_.each(new Array(r.totalPages),function(e,r,o){var l=function(e){return'<a href="#" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> </a>'},c=function(e){return'<a href="#" aria-label="Next"> <span aria-hidden="true">&raquo;</span> </a>'},d=function(e){return'<a href="#">'+(e+1)+"</a>"};if(0===r){var m=document.createElement("li");m.innerHTML=l(r),n.addEvent(m,"click",i.bind(n,r)),t.appendChild(m)}var s=document.createElement("li");if(s.innerHTML=d(r),s.setAttribute("data-index-pagination",r),n.addEvent(s,"click",u.bind(n,r)),t.appendChild(s),r===o.length-1){var E=document.createElement("li");E.innerHTML=c(r),n.addEvent(E,"click",a.bind(n,r)),t.appendChild(E)}});var c=location.search.match(/page=([\d])/),d=(c?c[1]:null)||r.currentPage;o(d,{},!1)}},{key:"hideEl",value:function(e){e.style.display="none"}},{key:"showEl",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"block":arguments[1];e.style.display=t}},{key:"addClass",value:function(e,t){return!(e.className.search(t)>-1)&&void(e.className=(e.className+" "+t).trim())}},{key:"removeClass",value:function(e,t){return e.className.search(t)!==-1&&void(e.className=e.className.replace(t,"").trim())}}]),e}();app.consumerView=new i},118:/*!***********************************!*\
  !*** ./~/file-saver/FileSaver.js ***!
  \***********************************/
function(e,t,n){var r,o,l=l||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,l=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement),a=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",d=4e4,m=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,d)},s=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(l){u(l)}}},E=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},y=function(t,u,d){d||(t=E(t));var y,v=this,g=t.type,_=g===c,h=function(){s(v,"writestart progress write writeend".split(" "))},p=function(){if((a||_&&i)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,v.readyState=v.DONE,h()},r.readAsDataURL(t),void(v.readyState=v.INIT)}if(y||(y=n().createObjectURL(t)),_)e.location.href=y;else{var o=e.open(y,"_blank");o||(e.location.href=y)}v.readyState=v.DONE,h(),m(y)};return v.readyState=v.INIT,o?(y=n().createObjectURL(t),void setTimeout(function(){r.href=y,r.download=u,l(r),h(),m(y),v.readyState=v.DONE})):void p()},v=y.prototype,g=function(e,t,n){return new y(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=E(e)),navigator.msSaveOrOpenBlob(e,t)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=l:null!==n(/*! !webpack amd define */119)&&null!==n(/*! !webpack amd options */120)&&(r=[],o=function(){return l}.apply(t,r),!(void 0!==o&&(e.exports=o)))},119:/*!***************************************!*\
  !*** (webpack)/buildin/amd-define.js ***!
  \***************************************/
function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},120:/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
function(e,t){(function(t){e.exports=t}).call(t,{})}});
//# sourceMappingURL=consumer-lookup.bundle.js.map